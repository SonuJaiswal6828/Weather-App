<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App | Sonu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="bg-gradient-to-br from-sky-400 to-indigo-600 min-h-screen flex items-center justify-center p-4 font-sans antialiased">

    <!-- main card: elevated, soft, airy -->
    <div class="w-full max-w-md bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-7 border border-white/30">
        
        <!-- header: subtle & modern -->
        <div class="flex items-center justify-between mb-6">
            <div class="flex items-center gap-2">
                <h1 class="text-2xl font-semibold text-slate-800 tracking-tight">ğŸŒ¤ï¸ Weather</h1>
                <span class="bg-sky-100 text-sky-700 text-xs px-2 py-1 rounded-full">by Sonu</span>
            </div>
            <span class="text-xs font-medium text-slate-500 bg-slate-100 px-3 py-1.5 rounded-full flex items-center gap-1">
                <i class="fas fa-map-marker-alt text-slate-400 text-xs"></i> live
            </span>
        </div>
        
        <!-- weather details: clean key-value pairs -->
        {% if data and data.error %}
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6">
            {{ data.error }}
        </div>
        {% endif %}

        {% if data and not data.error %}
        <!-- Location Badge - API se country name aa raha hai -->
        <div class="flex flex-col items-center mb-3">
            <span class="bg-gradient-to-r from-sky-500 to-indigo-500 text-white px-3 py-1 rounded-2xl text-lg font-semibold flex items-center gap-3 shadow-lg">
                <i class="fas fa-map-marker-alt"></i>
                <span>{{ data.city }}</span>
                <span class="text-white/80">|</span>
                <span class="flex items-center gap-1">
                    <i class="fas fa-globe"></i>
                    {{ data.country }}
                </span>
            </span>
        </div>
        
        <div class="divide-y divide-slate-200/80 mb-8">
            <!-- temperature -->
            <div class="flex justify-between items-center py-1 first:pt-0">
                <span class="text-slate-600 text-sm font-medium uppercase tracking-wider flex items-center gap-2">
                    <i class="fas fa-temperature-low text-sky-500"></i> Temp
                </span>
                <span class="text-3xl font-bold text-sky-700">{{ data.temperature }}</span>
            </div>
            <!-- condition -->
            <div class="flex justify-between items-center py-3">
                <span class="text-slate-600 text-sm font-medium uppercase tracking-wider flex items-center gap-2">
                    <i class="fas fa-cloud-sun text-sky-500"></i> Condition
                </span>
                <span class="flex items-center gap-2 text-base font-normal text-slate-800 bg-slate-100 px-4 py-1.5 rounded-full">
                    <img class="w-6" src="{{ data.img }}" alt="weather img"> {{ data.condition }}
                </span>
            </div>
            <!-- humidity -->
            <div class="flex justify-between items-center py-3">
                <span class="text-slate-600 text-sm font-medium uppercase tracking-wider flex items-center gap-2">
                    <i class="fas fa-tint text-sky-500"></i> Humidity
                </span>
                <span class="text-base font-medium text-slate-800">{{ data.humidity }}%</span>
            </div>
            <!-- wind -->
            <div class="flex justify-between items-center py-1">
                <span class="text-slate-600 text-sm font-medium uppercase tracking-wider flex items-center gap-2">
                    <i class="fas fa-wind text-sky-500"></i> Wind
                </span>
                <span class="text-base font-medium text-slate-800">{{ data.wind_speed }} mph <span class="text-xs text-slate-500 ml-1">{{ data.wind_direction }}</span></span>
            </div>
        </div>
        {% endif %}
        
        <!-- search form with cascading country-city selects -->
        <form class="space-y-4" method="post" id="weatherForm">
            <div class="flex flex-col gap-4">
                <!-- Location Selector Title -->
                <div class="flex items-center gap-2 text-slate-700">
                    <i class="fas fa-globe-asia text-sky-600"></i>
                    <span class="text-sm font-medium">Select Location</span>
                </div>
                
                <!-- Country Select -->
                <div class="relative">
                    <select 
                        id="countrySelect" 
                        name="country"
                        class="w-full px-3 py-2 text-base bg-slate-50 border border-slate-200 rounded-2xl text-slate-800 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-sky-500/50 focus:border-sky-500 transition duration-200"
                    >
                        <option value="" disabled selected>Select Country</option>
                        <option value="IN">ğŸ‡®ğŸ‡³ India</option>
                        <option value="US">ğŸ‡ºğŸ‡¸ United States</option>
                        <option value="GB">ğŸ‡¬ğŸ‡§ United Kingdom</option>
                        <option value="JP">ğŸ‡¯ğŸ‡µ Japan</option>
                        <option value="AU">ğŸ‡¦ğŸ‡º Australia</option>
                        <option value="CA">ğŸ‡¨ğŸ‡¦ Canada</option>
                        <option value="DE">ğŸ‡©ğŸ‡ª Germany</option>
                        <option value="FR">ğŸ‡«ğŸ‡· France</option>
                        <option value="BR">ğŸ‡§ğŸ‡· Brazil</option>
                        <option value="ZA">ğŸ‡¿ğŸ‡¦ South Africa</option>
                        <option value="AE">ğŸ‡¦ğŸ‡ª UAE</option>
                        <option value="SG">ğŸ‡¸ğŸ‡¬ Singapore</option>
                        <option value="MY">ğŸ‡²ğŸ‡¾ Malaysia</option>
                        <option value="ID">ğŸ‡®ğŸ‡© Indonesia</option>
                        <option value="TH">ğŸ‡¹ğŸ‡­ Thailand</option>
                        <option value="VN">ğŸ‡»ğŸ‡³ Vietnam</option>
                        <option value="KR">ğŸ‡°ğŸ‡· South Korea</option>
                        <option value="CN">ğŸ‡¨ğŸ‡³ China</option>
                        <option value="RU">ğŸ‡·ğŸ‡º Russia</option>
                        <option value="IT">ğŸ‡®ğŸ‡¹ Italy</option>
                        <option value="ES">ğŸ‡ªğŸ‡¸ Spain</option>
                        <option value="MX">ğŸ‡²ğŸ‡½ Mexico</option>
                        <option value="EG">ğŸ‡ªğŸ‡¬ Egypt</option>
                        <option value="NG">ğŸ‡³ğŸ‡¬ Nigeria</option>
                    </select>
                    <div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                
                <!-- City Select -->
                <div class="relative">
                    <select 
                        id="citySelect" 
                        name="city"
                        class="w-full px-3 py-2 text-base bg-slate-50 border border-slate-200 rounded-2xl text-slate-800 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-sky-500/50 focus:border-sky-500 transition duration-200 disabled:bg-slate-100 disabled:cursor-not-allowed"
                        disabled>
                        <option value="" disabled selected>First select country</option>
                    </select>
                    <div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                
                <!-- Search Button -->
                <button 
                    type="submit" 
                    class="w-full px-3 py-2 bg-sky-600 hover:bg-sky-700 text-white text-base font-semibold rounded-2xl shadow-md shadow-sky-600/30 transition-all duration-200 active:scale-95 flex items-center justify-center gap-2"
                >
                    <i class="fas fa-search"></i> Search Weather
                </button>
            </div>
        </form>
        
        <!-- footer -->
        <div class="mt-6 text-[0.7rem] text-slate-400 border-t border-slate-200/70 pt-4 text-center flex items-center justify-center gap-2">
            <i class="fas fa-cloud-sun-rain text-amber-400"></i>
            <span>Sonu Jaiswal's Weather App â€“ Country & City from WeatherAPI</span>
        </div>
    </div>

    <!-- Link to external JavaScript file -->
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>